<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Raritan PX2/PX3 JSON-RPC API: Server Reachability Monitoring</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Raritan PX2/PX3 JSON-RPC API
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="annotated.html"><span>Interfaces</span></a></li>
      <li><a href="files.html"><span>IDL&#160;Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Server Reachability Monitoring </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>The server reachability monitor is configured via the <b>servermon.ServerMonitor</b> interface at the well-known URI <code>/servermon</code>. Monitored servers are managed with the <b>addServer</b>, <b>modifyServer</b> and <b>deleteServer</b> methods and retrieved with <b>listServers</b> and <b>getServers</b>.</p>
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="comment"># Python example: Monitor a new server</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="keyword">import</span> raritan.rpc.servermon</div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;</div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;server = raritan.rpc.servermon.ServerMonitor.ServerSettings(</div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;        host = <span class="stringliteral">&quot;8.8.8.8&quot;</span>,</div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;        enabled = <span class="keyword">True</span>,</div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;        pingInterval = 60, <span class="comment"># seconds</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;        retryInterval = 5, <span class="comment"># seconds</span></div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;        activationCount = 15,</div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;        failureCount = 5,</div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;        resumeDelay = 180, <span class="comment"># seconds</span></div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;        resumeCount = 5</div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;)</div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;server_monitor = raritan.rpc.servermon.ServerMonitor(<span class="stringliteral">&quot;/servermon&quot;</span>, agent)</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;server_monitor.addServer(server)</div></div><!-- fragment --><h2>Reacting to Server Status Changes</h2>
<p>Server status changes raise events that can be used to trigger event rules. See <a class="el" href="eventengine.html">Event Rules and Actions</a> for details. The second component in the event ID is the server's host name in the exact notation of the server settings. For example, an event rule for the server in the example above would select event IDs like <code>[ "Server", "8.8.8.8", "Unreachable" ]</code>. It is possible to use the wildcard <code>*</code> as host name to select events for all monitored servers.</p>
<p>The following events are emitted for monitored servers.</p>
<ul>
<li><code>Server.&lt;host&gt;.Monitored</code>: State event. Asserted when a new server is monitored, deasserted when deleting or disabling the server entry.</li>
<li><code>Server.&lt;host&gt;.Error</code>: Trigger event. Sent once when there is an error monitoring a server, e.g. when the host name coult not be resolved.</li>
<li><code>Server.&lt;host&gt;.Unreachable</code>: State event. Asserted when a formerly reachable server becomes unreachable. Repeatedly asserted if the server is still unreachable after resuming. Deasserted when a server becomes reachable.</li>
<li><code>Server.&lt;host&gt;.Unrecoverable</code>: Trigger event. Sent once when a server is still unreachable after resuming <b>resumeCount</b> times. No further events will be raised until the server becomes reachable. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Apr 5 2017 19:14:41 for Raritan PX2/PX3 JSON-RPC API by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
